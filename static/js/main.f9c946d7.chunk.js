(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(57)},51:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),o=n.n(i),c=n(25),u=n(6),l=n(7),s=n(9),d=n(8),h=n(4),m=n(10),p=n(1),f=n(12),g=n.n(f),b=n(2);n(51);function v(){var e=Object(p.a)(["\n    color: inherit;\n    font-size: 1.8rem;\n    background-color: rgb(235, 237, 244);\n    border: none;\n    border-radius: .3rem;\n    padding: .5rem;\n    transition: all .2s;\n    \n    &:hover {\n        transform: translateY(-0.5rem);\n        box-shadow: 0 .5rem 2rem rgba(#000, .2);\n        \n    }\n"]);return v=function(){return e},e}function y(){var e=Object(p.a)(["\n    background-color: rgb(235, 237, 244);\n    border: none;\n    margin-bottom: 1rem;\n    padding: .5rem 0 .5rem 2.5rem;\n    border-radius: .3rem;\n    &:placeholder-shown {\n        padding-left: 3rem;\n    }\n"]);return y=function(){return e},e}function E(){var e=Object(p.a)(["\n    position: absolute;\n    z-index: 2;\n    top: 2.5rem;\n    left: .5rem;\n    color: rgb(133, 135, 140);\n    font-size: 1.8rem;\n    transition: all .3s;\n    \n    &:hover {\n        transform: scale(1.2)\n    }\n"]);return E=function(){return e},e}function C(){var e=Object(p.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    padding: 2rem 0;\n    font-size: 1.8rem;\n    color: rgb(133, 135, 140);\n    width: 60%;\n    @media only screen and (max-width: 37.5em) {\n        width: 95%;\n    }\n    \n"]);return C=function(){return e},e}var w=b.a.form(C()),j=b.a.i(E()),O=b.a.input(y()),k=b.a.button(v()),x=function(e){function t(e){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(w,{onSubmit:this.props.search.changed},r.a.createElement(j,{onClick:this.props.search.handleCoords,className:"icon-basic-geolocalize-01"}),r.a.createElement(O,{type:"text",ref:this.props.search.inputRef,onChange:this.props.search.handleInput,value:this.props.search.input,placeholder:"Write your city"}),r.a.createElement(k,{type:"submit"},"Search"))}}]),t}(a.Component);function I(){var e=Object(p.a)(["\n    font-size: 1.6rem;\n    margin-bottom: 2rem;\n"]);return I=function(){return e},e}var z=b.a.p(I()),W=function(e){return r.a.createElement(z,null,"Localization: ",e.city)};function S(){var e=Object(p.a)(["\n    font-size: 3rem;\n    transform: translate(1rem,-1.5rem);\n"]);return S=function(){return e},e}var U=b.a.div(S()),F=function(e){return r.a.createElement(U,{onClick:e.changedUnit},e.units?r.a.createElement("p",null,"\xb0F |\xb0C"):r.a.createElement("p",null,"\xb0C |\xb0F"))};function P(){var e=Object(p.a)(["\n    font-size: 3rem;\n    \n"]);return P=function(){return e},e}var D=b.a.div(P()),M=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,Math.floor(1.8*e.children)+32))},R=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,Math.floor(e.children)))},J=function(e){return r.a.createElement(D,null,e.units?r.a.createElement(M,null,e.temp):r.a.createElement(R,null,e.temp))};function _(){var e=Object(p.a)(["\n    transform: translate(-35%,33%);\n"]);return _=function(){return e},e}var q=b.a.div(_()),B=function(e){return r.a.createElement(q,null,r.a.createElement(z,null,e.text))},H=function(e){return r.a.createElement(z,null,"Pressure: ",e.pressure,"hPa")},L=function(e){return r.a.createElement(z,null,"Humidity: ",e.humidity,"%")};function N(){var e=Object(p.a)(["\n    \n    height: 6rem;\n    margin-right: 2rem;\n   \n"]);return N=function(){return e},e}var Y=b.a.img(N()),A=function(e){return e.icon?r.a.createElement(Y,{src:"http://openweathermap.org/img/w//".concat(e.icon,".png"),alt:"icon of weather"}):r.a.createElement("p",null,"-")};function G(){var e=Object(p.a)(["\n    display: flex;\n    margin-bottom: 2rem;\n    position: relative;\n"]);return G=function(){return e},e}function K(){var e=Object(p.a)(["\n    background-color: rgb(235, 237, 244);\n    padding: 5rem 2rem;\n    border-radius: .3rem;\n    display: flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content: space-around;\n    text-align: left;\n    width: 60%;\n    @media only screen and (max-width: 37.5em) {\n        width: 95%;\n    }\n"]);return K=function(){return e},e}var Q=b.a.div(K()),T=b.a.div(G()),V=function(e){return r.a.createElement(Q,null,r.a.createElement(T,null,r.a.createElement(J,{temp:e.weather.temp,units:e.units}),r.a.createElement(F,{changedUnit:e.changedUnit,units:e.units})),r.a.createElement(W,{city:e.weather.name}),r.a.createElement(H,{pressure:e.weather.pressure}),r.a.createElement(L,{humidity:e.weather.humidity}),r.a.createElement(T,null,r.a.createElement(A,{icon:e.weather.icon}),r.a.createElement(B,{text:e.weather.description})))};V.defaultProps={weather:{icon:"-",temp:"-",name:"-",pressure:"-",humidity:"-",description:"-"}};var X=V;n(56);function Z(){var e=Object(p.a)(["\n  \n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: column;\n  height: 100vh;\n  padding-top: 5rem;\n  margin: 0 auto;\n  background-image: linear-gradient(to right bottom, rgba(100, 214, 244, .4), rgb(80, 153, 196, .8) 50%);\n  color: rgb(146, 152, 153);\n  overflow: hidden;\n  @supports not (background-image: linear-gradient(to right bottom, rgba(100, 214, 244, .4), rgb(80, 153, 196, .8) 50%)) {\n    background-color: rgba(100, 214, 244, .4)\n  }\n  \n"]);return Z=function(){return e},e}var $=b.a.div(Z()),ee=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChangedCity=function(e){e.preventDefault(),n.setState({city:n.inputCity.value})},n.state={coord:{lon:0,lat:0},city:"",input:"",weather:{main:"",description:"",temp:0,pressure:0,humidity:0,temp_max:0,temp_min:0,sunrise:0,sunset:0,name:""},units:!0},n.inputCity=r.a.createRef(),n.fetchCoords=n.fetchCoords.bind(Object(h.a)(n)),n.handleInput=n.handleInput.bind(Object(h.a)(n)),n.cleanInput=n.cleanInput.bind(Object(h.a)(n)),n.handleChangedCity=n.handleChangedCity.bind(Object(h.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchCoords()}},{key:"componentDidUpdate",value:function(e,t){this.state.coord!==t.coord&&(console.log("Coords updated"),this.fetchWeatherCoords()),this.state.city!==t.city&&(console.log("City updated"),this.fetchWeatherCity()),""===this.state.city&&""!==t.city&&0!==this.state.coord.lat&&(console.log("city is empty and coords are choosen"),this.fetchWeatherCoords())}},{key:"fetchWeatherCoords",value:function(){var e=this;g.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(this.state.coord.lat,"&lon=").concat(this.state.coord.lon,"&appid=").concat("feaba7d9489e3d06dfdb3783cc348f9f","&units=metric")).then(function(t){e.setWeather(t.data)})}},{key:"fetchWeatherCity",value:function(){var e=this;g.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(this.state.city,"&appid=").concat("feaba7d9489e3d06dfdb3783cc348f9f","&units=metric")).then(function(t){e.setWeather(t.data)})}},{key:"handleInput",value:function(e){this.setState({input:e.target.value})}},{key:"cleanInput",value:function(){this.setState({input:""})}},{key:"fetchCoords",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.setCoords(t),e.cleanInput()})}},{key:"setCoords",value:function(e){this.setState({coord:{lon:e.coords.longitude,lat:e.coords.latitude}})}},{key:"setWeather",value:function(e){var t=e.main,n=t.temp,a=t.pressure,r=t.humidity,i=e.name,o=Object(c.a)(e.weather,1)[0],u=o.description,l=o.icon;this.setState({weather:{temp:n,pressure:a,humidity:r,name:i,description:u,icon:l}})}},{key:"changedUnit",value:function(){this.setState({units:!this.state.units})}},{key:"render",value:function(){var e=this;return r.a.createElement($,null,r.a.createElement(X,{weather:this.state.weather,units:this.state.units,changedUnit:this.changedUnit.bind(this)}),r.a.createElement(x,{search:{changed:this.handleChangedCity,handleCoords:this.fetchCoords,inputRef:function(t){e.inputCity=t},handleInput:this.handleInput,input:this.state.input}}))}}]),t}(a.Component);o.a.render(r.a.createElement(ee,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.f9c946d7.chunk.js.map