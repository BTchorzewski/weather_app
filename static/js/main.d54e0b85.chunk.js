(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(57)},51:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),o=n.n(i),c=n(25),u=n(6),s=n(7),l=n(9),d=n(8),h=n(4),m=n(10),p=n(1),f=n(12),g=n.n(f),b=n(2);n(51);function v(){var e=Object(p.a)(["\n    width: 100%;\n    font-size: 1rem;\n    border-radius: .3rem;\n    margin-top: 1rem;\n    position: relative;\n    color: #fff;\n    & > input {\n        display: inline-block;\n        font-size: 2.2rem;\n        line-height: 5rem;\n        padding-left: 5rem;\n        margin-right: .5rem;\n        border-radius: .3rem;\n        border: none;\n        background-image: linear-gradient(90deg, rgb(125, 153, 196) 10%, rgb(195, 214, 244) 10%);\n        width: 78%;\n        float: left;\n        \n    }\n    & > input:focus, input:valid {\n        color: #fff;\n    }\n    & > i {\n        vertical-align: middle;\n        position: absolute;\n        top: .5rem;\n        left: 0;\n        z-index: 2;\n        height: 6rem;\n        font-size: 2.6rem;\n        padding: .5rem;\n        \n    }\n    & > button {\n        width: 20%;\n        margin-left: auto;\n        border: none;\n        float: right;\n        height: 5rem;\n        background-image: linear-gradient(to right bottom, rgb(195, 214, 244), rgb(125, 153, 196) 50%);\n        color: inherit;\n        border-radius: .3rem;\n    }\n"]);return v=function(){return e},e}var y=b.a.form(v()),w=function(e){function t(e){return Object(u.a)(this,t),Object(l.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(y,{onSubmit:this.props.search.changed},r.a.createElement("i",{onClick:this.props.search.handleCoords,className:"icon-basic-geolocalize-01"}),r.a.createElement("input",{type:"text",ref:this.props.search.inputRef,onChange:this.props.search.handleInput,value:this.props.search.input}),r.a.createElement("button",{type:"submit"},"Search"))}}]),t}(a.Component);function C(){var e=Object(p.a)(["\n    font-size: 1.8rem;\n    \n"]);return C=function(){return e},e}var E=b.a.h1(C()),j=function(e){return r.a.createElement(E,null,e.city)};function O(){var e=Object(p.a)(["\n    display: inline-block;\n    position: absolute;\n    top: .5rem;\n    right: .5rem;\n    padding: .3rem .5rem;\n    background-color: #fff;\n    color: #000;\n    border-radius: 10rem;\n    text-align: center;\n"]);return O=function(){return e},e}var k=b.a.div(O()),x=function(e){return r.a.createElement(k,{onClick:e.changedUnit},e.units?r.a.createElement("p",null,"To Celsius"):r.a.createElement("p",null,"To Fahrenheit"))};function I(){var e=Object(p.a)(["\n    font-size: 4rem;\n    padding: .5rem 0 2rem;\n    perspective: 10rem;\n    & > h1 {\n        animation: "," 2s;\n    }\n\n"]);return I=function(){return e},e}function S(){var e=Object(p.a)(["\n    from {\n        \n        transform: rotateX(-90deg);\n    }\n\n    to {\n        opacity: 1;\n        transform: rotateX(0);\n    }\n"]);return S=function(){return e},e}var W=Object(b.b)(S()),z=b.a.div(I(),W),U=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,Math.floor(1.8*e.children)+32,"\xb0F"))},F=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,Math.floor(e.children)," \xb0C"))},_=function(e){return r.a.createElement(z,null,e.units?r.a.createElement(U,null,e.temp):r.a.createElement(F,null,e.temp))};function D(){var e=Object(p.a)(["\n    display: inline-block;\n    padding: 4rem 0;\n    margin-top: -7rem;\n"]);return D=function(){return e},e}var M=b.a.p(D()),P=function(e){return r.a.createElement(M,null,e.text)},R=function(e){return r.a.createElement("p",null,"Pressure: ",e.pressure,"hPa")},J=function(e){return r.a.createElement("p",null,"Humidity: ",e.humidity,"%")};function T(){var e=Object(p.a)(["\n     \n    & > img {\n        width: 18rem;\n    }\n    \n"]);return T=function(){return e},e}var X=b.a.div(T()),q=function(e){return r.a.createElement(X,null,r.a.createElement("img",{src:"http://openweathermap.org/img/w//".concat(e.icon,".png"),alt:"icon of weather"}))};function B(){var e=Object(p.a)(["\n    position: relative;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-image: linear-gradient(to right bottom, rgb(195, 214, 244), rgb(125, 153, 196) 50%);\n    padding-bottom: 1rem;\n    border-radius: .5rem;\n    padding: 2rem 3rem;\n    color: #fff;\n\n"]);return B=function(){return e},e}var H=b.a.div(B()),N=function(e){return r.a.createElement(H,null,r.a.createElement(x,{changedUnit:e.changedUnit,units:e.units}),r.a.createElement(q,{icon:e.weather.icon}),r.a.createElement(P,{text:e.weather.description}),r.a.createElement(_,{temp:e.weather.temp,units:e.units}),r.a.createElement(j,{city:e.weather.name}),r.a.createElement(R,{pressure:e.weather.pressure}),r.a.createElement(J,{humidity:e.weather.humidity}))};n(56);function A(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 100vh;\n  width: 30%;\n  margin: 0 auto;\n\n  @media (max-width: 92rem) {\n    width: 35%;\n  }\n\n  @media (max-width: 72rem) {\n    width: 50%;\n  }\n\n  @media (max-width: 36rem) {\n    width: 80%;\n  }\n"]);return A=function(){return e},e}var G=b.a.div(A()),K=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChangedCity=function(e){e.preventDefault(),n.setState({city:n.inputCity.value})},n.state={coord:{lon:0,lat:0},city:"",input:"",weather:{main:"",description:"",temp:0,pressure:0,humidity:0,temp_max:0,temp_min:0,sunrise:0,sunset:0,name:""},units:!0},n.inputCity=r.a.createRef(),n.fetchCoords=n.fetchCoords.bind(Object(h.a)(n)),n.handleInput=n.handleInput.bind(Object(h.a)(n)),n.cleanInput=n.cleanInput.bind(Object(h.a)(n)),n.handleChangedCity=n.handleChangedCity.bind(Object(h.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchCoords()}},{key:"componentDidUpdate",value:function(e,t){this.state.coord!==t.coord&&(console.log("Coords updated"),this.fetchWeatherCoords()),this.state.city!==t.city&&(console.log("City updated"),this.fetchWeatherCity()),""===this.state.city&&""!==t.city&&0!==this.state.coord.lat&&(console.log("city is empty and coords are choosen"),this.fetchWeatherCoords())}},{key:"fetchWeatherCoords",value:function(){var e=this;g.a.get("http://api.openweathermap.org/data/2.5/weather?lat=".concat(this.state.coord.lat,"&lon=").concat(this.state.coord.lon,"&appid=").concat("feaba7d9489e3d06dfdb3783cc348f9f","&units=metric")).then(function(t){e.setWeather(t.data)})}},{key:"fetchWeatherCity",value:function(){var e=this;g.a.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(this.state.city,"&appid=").concat("feaba7d9489e3d06dfdb3783cc348f9f","&units=metric")).then(function(t){e.setWeather(t.data)})}},{key:"handleInput",value:function(e){this.setState({input:e.target.value})}},{key:"cleanInput",value:function(){this.setState({input:""})}},{key:"fetchCoords",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.setCoords(t),e.cleanInput()})}},{key:"setCoords",value:function(e){this.setState({coord:{lon:e.coords.longitude,lat:e.coords.latitude}})}},{key:"setWeather",value:function(e){var t=e.main,n=t.temp,a=t.pressure,r=t.humidity,i=(t.temp_max,t.temp_min,e.name),o=e.sys,u=(o.sunrise,o.sunset,Object(c.a)(e.weather,1)[0]),s=(u.main,u.description),l=u.icon;this.setState({weather:{temp:n,pressure:a,humidity:r,name:i,description:s,icon:l}})}},{key:"changedUnit",value:function(){this.setState({units:!this.state.units})}},{key:"render",value:function(){var e=this;return r.a.createElement(G,null,r.a.createElement(N,{weather:this.state.weather,units:this.state.units,changedUnit:this.changedUnit.bind(this)}),r.a.createElement(w,{search:{changed:this.handleChangedCity,handleCoords:this.fetchCoords,inputRef:function(t){e.inputCity=t},handleInput:this.handleInput,input:this.state.input}}))}}]),t}(a.Component);o.a.render(r.a.createElement(K,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.d54e0b85.chunk.js.map